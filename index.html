<style>
    body { margin: 0; background: #0a0a0a; color: white; font-family: 'Segoe UI', sans-serif; overflow: hidden; touch-action: manipulation; }
    #game-container { width: 100vw; height: 100vh; display: flex; flex-direction: column; }
    
    .screen { display: none; width: 100%; height: 100%; text-align: center; overflow-y: auto; }
    .active { display: flex; flex-direction: column; align-items: center; }

    /* MAGICAL FOREST BACKGROUND */
    #arena { 
        width: 100%; height: 350px; 
        position: relative;
        overflow: hidden;
        /* Layered Gradient for Magical Sky */
        background: linear-gradient(to bottom, #2d1b4e 0%, #16213e 70%, #0f3460 100%);
        border-bottom: 8px solid #2d5a27; /* Grassy Ground */
        display: flex; justify-content: space-around; align-items: flex-end;
        padding-bottom: 20px;
    }

    /* Forest Silhouettes */
    #arena::before {
        content: "";
        position: absolute;
        bottom: 0; left: 0; width: 100%; height: 150px;
        background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 100" preserveAspectRatio="none"><path d="M0,100 L0,40 L50,80 L100,30 L150,70 L200,20 L250,80 L300,40 L350,90 L400,30 L450,70 L500,10 L550,80 L600,40 L650,90 L700,20 L750,70 L800,40 L850,90 L900,10 L950,80 L1000,40 L1000,100 Z" fill="%230a1a0a" opacity="0.5"/></svg>');
        background-size: 100% 100%;
        z-index: 1;
    }

    /* Glowing Mana Particles */
    .particle {
        position: absolute;
        background: radial-gradient(circle, #00d4ff 0%, transparent 70%);
        border-radius: 50%;
        filter: blur(2px);
        animation: drift 8s infinite ease-in-out;
        z-index: 2;
        pointer-events: none;
    }

    @keyframes drift {
        0%, 100% { transform: translate(0, 0); opacity: 0.3; }
        50% { transform: translate(30px, -50px); opacity: 0.8; }
    }

    .sprite { 
        width: 140px; height: 140px; 
        background-size: contain; background-repeat: no-repeat; background-position: bottom;
        transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        z-index: 10; /* Keep characters in front of trees */
        filter: drop-shadow(0 0 10px rgba(0, 212, 255, 0.3));
    }

    .stats-box { width: 90%; margin-top: 10px; z-index: 20; }
    .hp-container { width: 100%; height: 15px; background: #333; border-radius: 10px; border: 2px solid #555; overflow: hidden; }
    .hp-fill { height: 100%; width: 100%; transition: width 0.4s ease; }
    
    .btn { 
        background: #16213e; border: 2px solid #00d4ff; color: white; 
        padding: 18px; margin: 8px; width: 85%; font-weight: bold; font-size: 16px;
        border-radius: 12px; box-shadow: 0 4px #005a70;
    }
</style>

<div id="battle" class="screen">
    <div class="stats-box">
        <div id="boss-name" style="color: #ff4d4d; font-weight: bold;">BOSS</div>
        <div class="hp-container"><div id="boss-hp" class="hp-fill" style="background: #ff4d4d;"></div></div>
    </div>

    <div id="arena">
        <div id="hero-img" class="sprite"></div>
        <div id="boss-img" class="sprite"></div>
    </div>
    </div>

<script>
// ADD THIS TO YOUR JAVASCRIPT to generate the magical forest lights
function createForestParticles() {
    const arena = document.getElementById('arena');
    for (let i = 0; i < 15; i++) {
        const p = document.createElement('div');
        p.className = 'particle';
        let size = Math.random() * 8 + 4;
        p.style.width = size + 'px';
        p.style.height = size + 'px';
        p.style.left = Math.random() * 100 + '%';
        p.style.top = Math.random() * 100 + '%';
        p.style.animationDelay = Math.random() * 5 + 's';
        arena.appendChild(p);
    }
}
createForestParticles(); // Call this once at the start
</script>
